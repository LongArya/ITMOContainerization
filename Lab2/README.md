# Отчет по второй лабораторной работе 


В данной работе реализована контейнеризация jupyterhub который использует postgresql в качестве базы данных. 

Запуск ```docker compose up -d```

## Отчет по требованиям

- минимум 1 init + 2 app сервиса (одноразовый init + приложение + бд или что-то другое, главное чтоб работало в связке)


В работе jupyterhub и postgresql запущены в сервисах jupyter_hub и database соответственно.
Сервис database_init используется для инициализации, я так понял jupyterhub при запуске сам создает все нужные таблицы, поэтому здесь просто создается фиктивная таблица для примера  


- автоматическая сборка образа из лежащего рядом `Dockerfile` и присваивание ему (образу) имени

Для сервиса jupyter_hub собирается образ с именем hub_image, инструкция по сборке прописана в секции ```build``` 

- жесткое именование получившихся контейнеров


У каждого контейнера имя определяется полем ```container_name```


- минимум один из сервисов обязательно с `depends_on`
- добавить `healthcheck`


Для сервиса database реализован healthcheck который показывает что к базе данных можно подключиться. Сервис jupyter_hub зависит от сервисов database и database_init, при этом от database он ждет выполенения healthcheck, а от database_init успешного завершения.


- минимум один из сервисов обязательно с `volume`

Для сервисов с database и database_init используется volume

- минимум один из сервисов обязательно с прокидыванием порта наружу

сервис jupyterhub прокидывает порт 8000 через 
```
ports:
     - 8000:8000
```


- минимум один из сервисов обязательно с ключом `command` и/или `entrypoint` (можно переиспользовать тот же, что в `Dockerfile`)

У сервиса database_init кастомная comand 

- все env-ы прописать не в сам docker-compose.yml, а в лежащий рядом файл `.env`

испольузется файл .env 

- должна быть явно указана `network` (одна для всех)

определена общая network

## Ответы на вопросы 

### Можно ли ограничивать ресурсы (например, память или CPU) для сервисов в docker-compose.yml? Если нет, то почему, если да, то как?

Да, можно ограничивать использование cpu и памяти в секции resourses в определении сервиса 
https://docs.docker.com/compose/compose-file/deploy/#resources

### Как можно запустить только определенный сервис из docker-compose.yml, не запуская остальные?

команде ```docker compose up``` можно передать имя сервиса который нужно запустить, при этом можно контролировать запуск его зависимостей опцией ```--no_deps```   